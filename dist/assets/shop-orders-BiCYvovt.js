import{a,l as n}from"./index-JTWqLALI.js";async function s(){var e,o;if(new URLSearchParams(window.location.search).get("success")==="true")try{const r=await a.httpsCallable("confirmStripePurchase")();if(r.data&&r.data.orderId)return n("✅ Order confirmed. A receipt has been emailed to you.","success"),localStorage.removeItem("recovery_cart"),(e=document.getElementById("orderConfirmationSection"))==null||e.classList.remove("hidden"),(o=document.getElementById("mainContent"))==null||o.classList.add("hidden"),r.data;throw new Error("Order confirmation failed.")}catch(t){console.error("Order confirmation error:",t),n("⚠ Something went wrong confirming your order.","error")}}export{s as confirmOrderFromStripeRedirect};
