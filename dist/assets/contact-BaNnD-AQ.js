import{ac as i,ab as l,s as d,t as u,a6 as g,K as f,a8 as p}from"./index-C19OQbm5.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-functions.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-storage.js";function M(){const t=document.getElementById("contactSection");t==null||t.classList.add("active"),t==null||t.scrollIntoView({behavior:"smooth"});const e=document.getElementById("contactForm"),a=document.getElementById("contactStatus");e&&e.addEventListener("submit",async m=>{m.preventDefault();const o=e.name.value.trim(),n=e.email.value.trim().toLowerCase(),r=e.message.value.trim(),s=e.querySelector("button[type='submit']");if(!o||!n||!r){i("Please complete all fields.","error"),e.name.focus();return}s.disabled=!0,s.textContent="Sending...";try{const c=await l("contact_form");await d(u(g,"contactSubmissions"),{name:o,email:n,message:r,submittedAt:f()}),await p.httpsCallable("sendContactMessage")({name:o,email:n,message:r,token:c}),e.reset(),a==null||a.classList.remove("hidden"),i("✅ Message sent successfully!","success")}catch(c){console.error("❌ Contact form error:",c),i("There was a problem sending your message. Please try again.","error")}finally{s.disabled=!1,s.textContent="Send Message"}})}export{M as initContactPage};
