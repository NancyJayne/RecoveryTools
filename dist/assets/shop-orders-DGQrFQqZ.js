import{a8 as n,ac as a}from"./index-C-hSlrLx.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-functions.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-storage.js";async function u(){var e,o;if(new URLSearchParams(window.location.search).get("success")==="true")try{const r=await n.httpsCallable("confirmStripePurchase")();if(r.data&&r.data.orderId)return a("✅ Order confirmed. A receipt has been emailed to you.","success"),localStorage.removeItem("recovery_cart"),(e=document.getElementById("orderConfirmationSection"))==null||e.classList.remove("hidden"),(o=document.getElementById("mainContent"))==null||o.classList.add("hidden"),r.data;throw new Error("Order confirmation failed.")}catch(t){console.error("Order confirmation error:",t),a("⚠ Something went wrong confirming your order.","error")}}export{u as confirmOrderFromStripeRedirect};
