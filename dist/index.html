<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#407471" />
    <meta name="description" content="Recovery Tools - Real Recovery, Real Results" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" id="canonicalUrl" href="https://recoverytools.au/" />
    
    <title id="pageTitle">Recovery Tools</title>
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon" />
    <link rel="manifest" href="/manifest.json" />

  <base href="/" /> 
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" id="ogTitle" content="Recovery Tools" />
    <meta property="og:description" id="ogDescription" content="Explore tools, courses, and programs for pain and recovery." />
    <meta property="og:url" id="ogUrl" content="https://recoverytools.au/" />
    <meta property="og:image" id="ogImage" content="https://recoverytools.au/og-image.jpg" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" id="twitterTitle" content="Recovery Tools" />
    <meta name="twitter:description" id="twitterDescription" content="Explore tools, courses, and programs for pain and recovery." />
    <meta name="twitter:image" id="twitterImage" content="https://recoverytools.au/og-image.jpg" />

    <!-- Structured Data -->
    <script type="application/ld+json" id="episodeSchema">{}</script>

  <!-- Fonts + Styles -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link href="/output.css" rel="stylesheet" />

  <!-- Stripe.js -->
  <script src="https://js.stripe.com/v3/"></script>

  <!-- JSPDF (for receipts if needed) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- Basic Layout Style -->
  <style>
    html, body {
      height: 100%;
      margin: 0;
      font-family: 'Inter', sans-serif;
    }
    body {
      display: flex;
      flex-direction: column;
      background-color: #0a1317;
      color: white;
    }
    main {
      flex: 1;
    }
  </style>
  <script type="module" crossorigin src="/assets/index-BSE51CX2.js"></script>
  <link rel="stylesheet" crossorigin href="/assets/index-B2Jmo72E.css">
</head>

<body class="min-h-screen flex flex-col">

<!-- Responsive Sticky Header -->
<header class="sticky top-0 z-50 bg-gray-900 text-white shadow-md">
  <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
    <!-- Logo -->
    <div class="text-xl font-bold tracking-wide">
      <a href="/" data-tab="homeSection" class="tab-link">Recovery Tools</a>
    </div>

    <!-- Mobile Toggle -->
    <button id="mobileMenuToggle" class="md:hidden text-2xl focus:outline-none" aria-label="Toggle Navigation">
      ‚ò∞
    </button>

    <!-- Desktop Navigation -->
    <nav id="mainNav" class="hidden md:flex space-x-6 items-center">
      <a href="/" data-tab="homeSection" class="tab-link hover:text-[#63d6b2]">Home</a>
      <a href="/shop" data-tab="shopSection" class="tab-link hover:text-[#63d6b2]">Shop</a>
      <a href="/programs" data-tab="programsSection" class="tab-link hover:text-[#63d6b2]">Programs</a>
      <a href="/anato-me" data-tab="anato-meSection" class="tab-link hover:text-[#63d6b2]">Anato-me</a>
      <a href="/workshops" data-tab="workshopsSection" class="tab-link hover:text-[#63d6b2]">Workshops</a>
      <a href="/courses" data-tab="coursesSection" class="tab-link hover:text-[#63d6b2]">Courses</a>
    </nav>

    <!-- Auth + Cart Controls -->
    <div class="flex items-center space-x-4">
      <!-- Login/Signup -->
      <div id="authButtons" class="flex items-center space-x-3">
        <button data-auth="login" class="auth-link hover:underline" aria-label="Login" type="button">
          Login
        </button>
        <button data-auth="signup" class="auth-link bg-[#407471] text-white px-4 py-2 rounded font-semibold" aria-label="Sign Up" type="button">
          Sign Up
        </button>
      </div>

      <!-- Avatar -->
      <div id="profileAvatarWrapper" class="hidden relative">
        <a href="/profile" data-tab="profileSection" class="tab-link" aria-label="Profile">
          <img id="headerAvatar" src="" alt="User Avatar" class="h-10 w-10 rounded-full border-2 border-white object-cover">
        </a>
      </div>

      <!-- Cart -->
      <button id="openCartBtn" type="button" class="relative" aria-label="Open Cart">
        üõí
        <span id="cartCount" class="absolute top-0 right-0 bg-green-500 text-white text-xs rounded-full px-2">0</span>
      </button>
    </div>
  </div>

  <!-- Mobile Nav (Slide-down) -->
  <div id="mobileNav" class="mobile-nav md:hidden">
    <a href="/" data-tab="homeSection" class="tab-link hover:text-[#63d6b2]">Home</a>
    <a href="/shop" data-tab="shopSection" class="tab-link hover:text-[#63d6b2]">Shop</a>
    <a href="/programs" data-tab="programsSection" class="tab-link hover:text-[#63d6b2]">Programs</a>
    <a href="/anato-me" data-tab="anato-meSection" class="tab-link hover:text-[#63d6b2]">Anato-me</a>
    <a href="/workshops" data-tab="workshopsSection" class="tab-link hover:text-[#63d6b2]">Workshops</a>
    <a href="/courses" data-tab="coursesSection" class="tab-link hover:text-[#63d6b2]">Courses</a>
  </div>
</header>

  <!-- Content Sections -->
  <main class="flex-1 p-6">
     
      <!-- Home Content (Canva Homepage Recreation) -->
      <section id="homeSection" class="tab-content">
        <div class="bg-black text-white font-sans">
          <!-- Hero -->
          <div class="relative h-[90vh] overflow-hidden">
      
            <!-- Background Video -->
            <video id="heroVideo" autoplay muted playsinline class="absolute inset-0 w-full h-full object-cover z-0 block top-0 left-0 bottom-0 right-0" poster="https://firebasestorage.googleapis.com/v0/b/recovery-tools.firebasestorage.app/o/videos%2FImages%2FRecovery%20Tools%20Header%20Image.png?alt=media&token=ab36f55c-84de-4e66-a74a-6247cdc0b8c2">
              <source src="https://firebasestorage.googleapis.com/v0/b/recovery-tools.firebasestorage.app/o/videos%2FRecovery%20Tools%20Header%20Video.mp4?alt=media&token=552c2c14-fd22-4167-bcc6-5f646984d156" type="video/mp4" />
            </video>
      
            <!-- Fallback Image -->
            <img id="heroImage" src="https://firebasestorage.googleapis.com/v0/b/recovery-tools.firebasestorage.app/o/videos%2FImages%2FRecovery%20Tools%20Header%20Image.png?alt=media&token=ab36f55c-84de-4e66-a74a-6247cdc0b8c2" alt="Recovery Tools Hero Image" class="absolute inset-0 w-full h-full object-cover z-0 block hidden top-0 left-0 bottom-0 right-0" />
      
            <!-- Overlay Text and Button -->
            <div class="absolute inset-0 bg-black/40 z-10 flex flex-col justify-center items-center text-white text-center p-4">
              <div class="text-sm uppercase tracking-wide mb-4">Supporting your recovery and rehab</div>
              <h1 class="text-5xl font-bold mb-6">Recovery<br>Tools</h1>
              <a href="/shop" data-tab="shopSection" 
              class="absolute bottom-10 text-[#ffffff] underline font-semibold hover:text-[#305a56] hover:underline" 
              aria-label="shop">Shop Now</a>
            </div>
          </div>
      
          <script>
            const heroVideo = document.getElementById('heroVideo');
            const heroImage = document.getElementById('heroImage');
      
            // Show fallback image if video fails or doesn't start within 4 seconds
            const fallbackTimeout = setTimeout(() => {
              if (heroVideo.readyState < 3) {
                heroVideo.classList.add('hidden');
                heroImage.classList.remove('hidden');
              }
            }, 4000);
      
            // If video ends naturally, show fallback image
            heroVideo.addEventListener('ended', () => {
              clearTimeout(fallbackTimeout);
              heroVideo.classList.add('hidden');
              heroImage.classList.remove('hidden');
            });
      
            // If video starts playing successfully, do nothing
            heroVideo.addEventListener('playing', () => {
              clearTimeout(fallbackTimeout);
            });
      
            // Also handle video loading errors
            heroVideo.addEventListener('error', () => {
              heroVideo.classList.add('hidden');
              heroImage.classList.remove('hidden');
            });
          </script>
      
        <!-- Intro Section -->
<div class="relative px-6 py-16 max-w-6xl mx-auto flex flex-col md:flex-row items-center gap-10 z-20">
  <div class="flex-1">
    <h2 class="text-3xl font-semibold mb-4">Recovery Tools make wellness products that matter.</h2>
    <p class="text-sm text-gray-400 leading-relaxed">
      Designed by expert manual therapists, our tools support self-recovery and rehabilitation from sports and injury, empowering you to take control of your healing. With every purchase, we give back‚Äîdonating a portion of profits to Pain Australia, a charity dedicated to helping people in pain. We also uplift fellow therapists and small businesses by offering an affiliate program that provides an additional income stream.
    </p>
  </div>
  <div class="flex-1">
    <img src="https://firebasestorage.googleapis.com/v0/b/recovery-tools.firebasestorage.app/o/videos%2FImages%2FRecovery%20Tools%20Cupping.png?alt=media&token=eb5221ae-cdb5-4e82-a88b-dd9f7166e1e6" alt="Person using recovery tools" class="max-w-full h-auto" loading="lazy" />
  </div>
</div>

    <!-- About Our Products -->
    <div class="px-6 py-10 max-w-6xl mx-auto">
      <h2 class="text-2xl font-semibold mb-6">About Our Products</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="bg-gray-900 p-4 rounded shadow">
          <img src="https://firebasestorage.googleapis.com/v0/b/recovery-tools.firebasestorage.app/o/videos%2FImages%2FRecovery%20Tools%20photo%201.jpg?alt=media&token=30bba70d-1be0-48db-b53f-77f1c9c8023b" class="w-full h-48 object-cover rounded mb-4">
          <h3 class="font-bold mb-2">Supporting Your Recovery</h3>
          <p class="text-sm text-gray-400">We provide the tools and help you learn the best practices for using them.</p>
        </div>
        <div class="bg-gray-900 p-4 rounded shadow">
          <img src="https://firebasestorage.googleapis.com/v0/b/recovery-tools.firebasestorage.app/o/videos%2FImages%2FRecovery%20Tools%20photo%202.jpg?alt=media&token=970cc497-f588-44ca-8ea4-ae9b0eca5444" class="w-full h-48 object-cover rounded mb-4">
          <h3 class="font-bold mb-2">Support Others In Pain</h3>
          <p class="text-sm text-gray-400">A portion of every purchase supports people in pain through donations.</p>
        </div>
        <div class="bg-gray-900 p-4 rounded shadow">
          <img src="https://firebasestorage.googleapis.com/v0/b/recovery-tools.firebasestorage.app/o/videos%2FImages%2FRecovery%20Tools%20photo%203.jpg?alt=media&token=8357fa71-e3bc-4943-b60b-2f21d3c7dbd4" class="w-full h-48 object-cover rounded mb-4">
          <h3 class="font-bold mb-2">Support Businesses</h3>
          <p class="text-sm text-gray-400">Our affiliate program helps fellow therapists and small businesses thrive.</p>
        </div>
      </div>
    </div>

    <!-- The Tools -->
    <div class="px-6 py-12 max-w-6xl mx-auto">
      <h2 class="text-2xl font-semibold mb-6">The Tools</h2>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
<div class="px-6 py-12 max-w-6xl mx-auto">
  <h2 class="text-2xl font-semibold mb-6">Featured Recovery Tools</h2>
  <div id="featuredToolsGrid" class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center"></div>
</div>

      <div class="mt-6 text-center">
        <button id="shopNowBtn" class="bg-[#407471] px-6 py-2 rounded text-white font-semibold" aria-label="Shop Now">Shop Now</button>
      </div>
    </div>

    <!-- Quote -->
    <div class="px-6 py-16 bg-gradient-to-r from-black via-gray-800 to-black text-white text-center">
      <blockquote class="text-xl italic max-w-2xl mx-auto">
        ‚ÄúGive a man a fish and you feed him for a day. Teach him how to fish and you feed him for a lifetime.‚Äù<br>‚Äî Lao Tzu
      </blockquote>
    </div>

    <!-- Affiliate Section -->
    <div class="px-6 py-12 max-w-4xl mx-auto text-center">
      <h2 class="text-2xl font-semibold mb-4">Ready to work with us?</h2>
      <p class="text-gray-400 mb-4">Send us a message and let's talk about it.</p>
      <button id="ctaAffiliateBtn" aria-label="Become an Affiliate" class="bg-[#407471] px-4 py-2 rounded text-white font-semibold">Become an Affiliate</button>
    </div>
  </div>
</div>
</section>
    <section id="programsSection" class="tab-content hidden">Programs content here...</section>


<!-- Shop Section -->
<section id="shopSection" class="tab-content hidden p-6">
  <div class="bg-black text-white font-sans">
  <h2 class="text-2xl font-semibold mb-4">Shop</h2>
  
  <div class="flex flex-col md:flex-row md:items-center justify-between mb-4 gap-4">
  <!-- üîé Filter -->
  <div class="flex flex-wrap items-center gap-3">
    <button class="filter-tag text-sm bg-gray-700 hover:bg-[#407471] px-3 py-1 rounded text-white" data-filter="featured">Featured</button>
    <button class="filter-tag text-sm bg-gray-700 hover:bg-[#407471] px-3 py-1 rounded text-white" data-filter="backpain">Back Pain</button>
    <button class="filter-tag text-sm bg-gray-700 hover:bg-[#407471] px-3 py-1 rounded text-white" data-filter="mobility">Mobility</button>
    <button class="filter-tag text-sm bg-gray-700 hover:bg-[#407471] px-3 py-1 rounded text-white" data-filter="all">Show All</button>
  </div>

  <!-- üîÉ Sort -->
  <select id="sortSelect" class="text-sm bg-gray-800 text-white rounded px-3 py-1 border border-gray-600">
    <option value="name">Sort: Name A‚ÄìZ</option>
    <option value="priceLow">Sort: Price Low‚ÄìHigh</option>
    <option value="priceHigh">Sort: Price High‚ÄìLow</option>
  </select>
</div>

  <div id="shopLoading" class="hidden flex justify-center items-center py-10">
    <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"></div>
  </div>
  
  <div id="shopGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
  <div id="productDetail" class="hidden mt-6"></div>
</section>

    <!-- ‚úÖ Product Detail Section -->
<!-- ‚úÖ Product Detail Section -->
<section id="productDetailSection" class="tab-content hidden p-6">
  <div id="productDetailContainer">
    <div class="bg-gray-900 p-6 rounded shadow text-white max-w-5xl mx-auto">
      
<!-- üõç Breadcrumb -->
<nav class="text-sm text-gray-400 mb-2" aria-label="Breadcrumb">
  <button id="breadcrumbBackLink" type="button" class="hover:text-white underline">
    Shop
  </button>
  <span class="mx-1">/</span>
  <span id="breadcrumbProductName" class="text-white font-semibold" aria-current="page"></span>
</nav>

      <!-- üñº Product Image -->
      <img
        id="productDetailImage"
        src=""
        alt="Product Image"
        class="w-full max-w-[600px] h-auto mx-auto rounded mb-4 object-cover"
        style="aspect-ratio: 3 / 2;"
        referrerpolicy="no-referrer"
        crossorigin="anonymous"
      />

      <!-- üõç Product Info -->
      <h3 id="productDetailName" class="text-2xl font-bold mb-2" tabindex="0" aria-label="Product name"></h3>
      <p id="productDetailShort" class="text-sm text-gray-300 mb-2" aria-label="Short description"></p>
      <p id="productDetailLong" class="text-sm text-gray-400 mb-4" aria-label="Long description"></p>

      <!-- ‚ö† Warnings and Linked Content -->
      <div id="lowStockNotice" class="text-yellow-400 text-sm hidden mb-2">‚ö† Only a few left in stock!</div>
      <div id="preorderNotice" class="text-blue-400 text-sm hidden mb-2">üì¶ Pre-order available</div>
      <div id="productBundles" class="text-sm text-gray-300 mb-2 hidden">üéÅ Part of a bundle</div>
      <div id="linkedCourse" class="text-sm text-blue-400 mb-4 hidden">
        <!-- üîó Course Link -->
<button id="courseLink" type="button" class="underline hover:text-white focus:outline-none">
  ‚ñ∂ Learn how to use this tool
</button>
      </div>

      <!-- üí≤ Price + Quantity + Add to Cart -->
      <div class="flex items-center justify-between mb-4">
        <span id="productDetailPrice" class="text-xl font-semibold" aria-live="polite"></span>
      </div>

      <div class="flex items-center gap-4 mb-4" aria-label="Quantity selector">
        <button id="qtyMinus" class="bg-gray-700 text-white w-8 h-8 rounded text-lg">-</button>
        <span id="qtyDisplay" class="text-white font-semibold w-8 text-center select-none" aria-live="polite">1</span>
        <button id="qtyPlus" class="bg-gray-700 text-white w-8 h-8 rounded text-lg">+</button>
      </div>

      <button id="addToCartButton" class="bg-[#407471] px-4 py-2 rounded text-white mb-6">
        Add to Cart
      </button>

      <!-- üí¨ Reviews Placeholder -->
      <div id="reviews" class="text-sm text-gray-300 mt-4 border-t border-gray-700 pt-4">
        <h4 class="text-lg font-semibold mb-2">Reviews</h4>
        <p class="italic text-gray-500">Reviews will appear here...</p>
      </div>
      <div id="writeReview" class="mt-6 border-t border-gray-700 pt-4">
  <h4 class="text-lg font-semibold mb-2">Leave a Review</h4>
  <form id="reviewForm" class="space-y-3">
    <input type="text" id="reviewName" placeholder="Your name" class="bg-gray-800 text-white px-3 py-2 rounded w-full">
    <select id="reviewRating" class="bg-gray-800 text-white px-3 py-2 rounded w-full">
      <option value="">Rating (1‚Äì5)</option>
      <option value="5">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</option>
      <option value="4">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</option>
      <option value="3">‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ</option>
      <option value="2">‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ</option>
      <option value="1">‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ</option>
    </select>
    <textarea id="reviewComment" placeholder="Your review..." class="bg-gray-800 text-white px-3 py-2 rounded w-full h-24"></textarea>
    <button type="submit" class="bg-[#407471] text-white px-4 py-2 rounded">Submit Review</button>
  </form>
</div>


      <!-- üîô Back Link -->
      <button id="backToShopBtn" class="text-white hover:underline mt-6 block" aria-label="Back to Shop">‚Üê Back to Shop</button>
    </div>
  </div>
  <div id="relatedSuggestions" class="mt-10">
  <h4 class="text-lg font-semibold mb-4">You may also like</h4>
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6" id="relatedGrid"></div>
</div>
</section>

    
<!-- Full Dynamic Profile Section -->
<section id="profileSection" class="tab-content hidden p-6">
  <!-- Profile Header -->
  <div class="flex items-center gap-4 mb-8">
    <img id="profileAvatar" src="" alt="Profile Image" class="w-24 h-24 rounded-full border-2 border-green-400 object-cover">
    <div class="mt-2 flex gap-3">
  <label for="avatarUpload" class="text-sm text-blue-400 underline cursor-pointer">Change Photo</label>
  <input id="avatarUpload" type="file" accept="image/*" class="hidden" />
  
  <button id="removeAvatarBtn" type="button" class="text-sm text-red-400 underline">Remove Photo</button>
</div>
<div class="flex items-center gap-2 mt-2">
  <h2 data-profile-name class="text-2xl font-bold">Loading...</h2>
  <span id="affiliateBadge" class="hidden bg-green-500 text-xs px-2 py-1 rounded">Affiliate</span>

  <button
    id="affiliateSignup"
    type="button"
    class="text-blue-400 hover:underline text-sm"
    aria-label="Become an Affiliate"
  >
    Become an Affiliate
  </button>

  <a id="affiliateAccessLink" href="/affiliate" class="hidden text-sm text-green-500 hover:underline">
    ü§ù Affiliate Dashboard
  </a>
  <a id="therapistAccessLink" href="/therapist" class="hidden text-sm text-indigo-400 hover:underline">
    üíº Therapist Tools
  </a>
  <a id="adminAccessLink" href="/admin" class="hidden text-sm text-purple-400 hover:underline">
    üîê Admin Dashboard
  </a>
</div>

      <div data-profile-email class="text-gray-400 text-sm"></div>
      <div data-profile-id class="text-gray-400 text-xs"></div>
      <div data-profile-subscription class="text-green-400 text-xs"></div>
    </div>
  </div>

  <!-- Profile Navigation -->
  <div class="flex flex-col md:flex-row gap-8">
    <aside class="w-full md:w-48 flex flex-col gap-2">
      <button data-profile-tab="myProfile" class="profile-tab-btn">My Profile</button>
      <button data-profile-tab="myCourses" class="profile-tab-btn">My Courses</button>
      <button data-profile-tab="myWorkshops" class="profile-tab-btn">My Workshops</button>
      <button data-profile-tab="myPrograms" class="profile-tab-btn">My Programs</button>
      <button data-profile-tab="orderHistory" class="profile-tab-btn">My Orders</button>
      <button data-profile-tab="updateProfile" class="profile-tab-btn">Update Profile</button>
      <button data-profile-tab="changePassword" class="profile-tab-btn">Change Password</button>
      <a id="affiliateAccessBtn" href="/affiliate" class="hidden profile-tab-btn bg-green-600 text-white">Affiliate Dashboard</a>
      <a id="therapistAccessBtn" href="/therapist" class="hidden profile-tab-btn bg-indigo-600 text-white">Therapist Tools</a>
      <a id="adminAccessBtn" href="/admin" class="hidden profile-tab-btn bg-purple-600 text-white">Admin Dashboard</a>
      <button id="signOutBtn" class="profile-tab-btn text-red-400">Sign Out</button>
    </aside>

    <!-- Main Output Tabs -->
    <div class="flex-1">
      <div id="myProfile" class="profile-tab-content hidden">
        <h2 class="text-2xl font-semibold mb-4">My Profile</h2>
        <!-- Duplicates removed (header already shown above) -->
      </div>

      <div id="myCourses" class="profile-tab-content hidden">
        <h2 class="text-2xl font-semibold mb-4">My Courses</h2>
        <div id="myCoursesGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mb-10"></div>
      </div>

      <div id="myWorkshops" class="profile-tab-content hidden">
        <h2 class="text-2xl font-semibold mb-4">My Workshops</h2>
        <div id="myWorkshopsGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"></div>
      </div>

      <div id="myPrograms" class="profile-tab-content hidden">
        <h3 class="text-xl font-semibold mb-4">My Programs</h3>
        <p>Your saved programs and downloads will appear here.</p>
      </div>

      <div id="orderHistory" class="profile-tab-content hidden">
        <h2 class="text-2xl font-semibold mb-4">My Orders & Tax Invoices</h2>
        <div id="orderHistoryGrid" class="space-y-6"></div>
      </div>

      <div id="updateProfile" class="profile-tab-content hidden">
        <h3 class="text-xl font-semibold mb-4">Update Profile</h3>
        <form id="updateProfileForm" class="space-y-4">
          <input id="updateName" placeholder="Name" class="input">
          <input id="updatePhone" placeholder="Phone" class="input">
          <input id="updateAddress" placeholder="Address" class="input">
          <button class="bg-blue-500 px-4 py-2 rounded text-white font-semibold">Save Changes</button>
        </form>
      </div>

      <div id="changePassword" class="profile-tab-content hidden">
        <h3 class="text-xl font-semibold mb-4">Change Password</h3>
        <form id="changePasswordForm" class="space-y-4">
          <input id="currentPassword" type="password" placeholder="Current Password" class="input">
          <input id="newPassword" type="password" placeholder="New Password" class="input">
          <button class="bg-[#407471] px-4 py-2 rounded text-white font-semibold">Update Password</button>
        </form>
      </div>
    </div>
  </div>
</section>
       
<!-- Standalone Affiliate Dashboard Section -->
<section id="affiliateSection" class="tab-content p-6 hidden">
  <h1 class="text-3xl font-bold mb-6">Affiliate Dashboard</h1>
  <div class="mb-4">
    <div class="text-sm text-gray-400">Your Creator ID: <span id="affiliateIdDisplay" class="text-green-400 font-mono"></span></div>
    <a href="/profile" class="inline-block px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700">
      ‚Üê Back to Profile
    </a>
  </div>

  <div class="flex flex-col lg:flex-row gap-8">
    <!-- Sidebar -->
    <aside class="w-full lg:w-64 space-y-2">
      <h2 class="text-xl font-semibold text-green-300 mb-4">Affiliate Menu</h2>
      <a href="#affiliateEarningsTab" class="affiliate-link block px-4 py-2 rounded hover:bg-green-800">My Earnings</a>
      <a href="#affiliateSettingsTab" class="affiliate-link block px-4 py-2 rounded hover:bg-green-800">Settings</a>
      <a href="#submitWorkshopTab" class="affiliate-link block px-4 py-2 rounded hover:bg-green-800">Submit Workshop</a>
      <a href="#mySubmittedWorkshopsTab" class="affiliate-link block px-4 py-2 rounded hover:bg-green-800">My Workshops</a>
      <a href="#submitCourseProposalTab" class="affiliate-link block px-4 py-2 rounded hover:bg-green-800">Propose Course</a>
      <a href="#mySubmittedCoursesTab" class="affiliate-link block px-4 py-2 rounded hover:bg-green-800">My Courses</a>
    </aside>

    <!-- Content -->
    <div class="flex-1 space-y-6">
      <!-- New: Affiliate Earnings Tab -->
      <div id="affiliateEarningsTab" class="affiliate-tab hidden">
        <h2 class="text-2xl font-semibold mb-4">My Earnings</h2>
        <p class="text-gray-400 mb-2">Track your referred sales for tools, courses, and workshops.</p>
      
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-4">
          <div class="bg-gray-800 p-4 rounded shadow text-center">
            <h3 class="text-green-400 text-lg font-bold">Tools</h3>
            <p class="text-2xl font-semibold" id="affiliateToolSales">‚Äî</p>
          </div>
          <div class="bg-gray-800 p-4 rounded shadow text-center">
            <h3 class="text-green-400 text-lg font-bold">Courses</h3>
            <p class="text-2xl font-semibold" id="affiliateCourseSales">‚Äî</p>
          </div>
          <div class="bg-gray-800 p-4 rounded shadow text-center">
            <h3 class="text-green-400 text-lg font-bold">Workshops</h3>
            <p class="text-2xl font-semibold" id="affiliateWorkshopSales">‚Äî</p>
          </div>
          </div>
          <!-- Affiliate Payout History -->
<div class="mt-10">
  <h3 class="text-xl font-semibold mb-4">My Payouts</h3>
  <div id="payoutsContainer" class="space-y-3">
    <p class="text-sm text-gray-400">Loading payouts...</p>
  </div>
  <div class="flex gap-4 mb-4">
  <select id="filterType" class="px-3 py-2 rounded bg-gray-800 text-white">
    <option value="all">All</option>
    <option value="monthly">Monthly</option>
    <option value="financialYear">Financial Year</option>
  </select>

  <input type="month" id="monthInput" class="hidden px-3 py-2 rounded bg-gray-800 text-white" />

  <select id="financialYearInput" class="hidden px-3 py-2 rounded bg-gray-800 text-white">
    <option value="2023">FY 2023-24</option>
    <option value="2024">FY 2024-25</option>
  </select>

  <button id="applyFilterBtn" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">Apply Filter</button>
</div>

</div>
        
<div id="affiliateSettingsTab" class="affiliate-tab hidden">
  <h2 class="text-2xl font-semibold mb-4">Affiliate Settings</h2>
  <p class="text-gray-400 mb-2">Manage your Stripe payouts and update your business profile.</p>

  <div class="mb-4">
    <label for="affiliateTimezone" class="block text-sm font-medium text-white mb-1">Your Timezone</label>
    <select id="affiliateTimezone" class="bg-gray-800 text-white px-3 py-2 rounded w-full max-w-xs">
      <!-- Timezones will be dynamically populated -->
    </select>
    <p class="text-sm text-green-400 mt-1 hidden" id="currentTimezoneDisplay"></p>
  </div>

  <div class="mb-4">
    <button id="connectStripeBtn" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
      Connect Stripe
    </button>
    <p id="stripeConnectedMsg" class="hidden mt-2 text-sm text-green-400">
      ‚úÖ Stripe is connected.
    </p>
    <button id="manageStripeBtn" class="hidden mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
      Manage Stripe Account
    </button>
  </div>
</div>


      <div id="submitWorkshopTab" class="affiliate-tab hidden">
        <h2 class="text-2xl font-semibold mb-4">Submit a Workshop</h2>
       <div id="submitWorkshopTab" class="affiliate-tab hidden">
  <form id="submitWorkshopForm" class="space-y-4">
    <div>
      <label for="workshopName" class="block text-sm font-medium">Workshop Name *</label>
      <input id="workshopName" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="e.g. Myo Mobility Class" required title="Enter the workshop name" />
    </div>

    <div>
      <label for="workshopSlug" class="block text-sm font-medium">Slug</label>
      <input id="workshopSlug" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="e.g. myo-mobility" title="URL-friendly name, optional (auto-generated if left blank)" />
    </div>

    <div>
      <label for="workshopLocation" class="block text-sm font-medium">Location *</label>
      <input id="workshopLocation" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="e.g. 123 Health St, Brisbane" required />
    </div>

    <div>
      <label for="workshopDate" class="block text-sm font-medium">Date *</label>
      <input id="workshopDate" type="date" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" required />
    </div>

    <div>
      <label for="workshopPrice" class="block text-sm font-medium">Price (AUD) *</label>
      <input id="workshopPrice" type="number" min="0" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="e.g. 99" required />
    </div>

    <div>
      <label for="workshopMaxParticipants" class="block text-sm font-medium">Max Participants</label>
      <input id="workshopMaxParticipants" type="number" min="1" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="Leave blank for unlimited" />
    </div>

    <div>
      <label for="workshopShortDescription" class="block text-sm font-medium">Short Description</label>
      <input id="workshopShortDescription" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="e.g. Hands-on mobility class with take-home tools" />
    </div>

    <div>
      <label for="workshopDescription" class="block text-sm font-medium">Long Description *</label>
      <textarea id="workshopDescription" rows="4" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="Full workshop details..." required></textarea>
    </div>

    <div>
      <label for="workshopFeatures" class="block text-sm font-medium">Key Features (comma-separated)</label>
      <input id="workshopFeatures" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="e.g. foam rolling, breathwork, stretching" />
    </div>

    <div>
      <label for="workshopImageFile" class="block text-sm font-medium">Upload Banner Image *</label>
      <input id="workshopImageFile" type="file" accept="image/*" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" required title="600x400px recommended" />
    </div>

    <button class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">Submit Workshop</button>
  </form>
</div>

      <div id="mySubmittedWorkshopsTab" class="affiliate-tab hidden">
        <h2 class="text-2xl font-semibold mb-4">My Submitted Workshops</h2>
        <div id="mySubmittedWorkshops" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"></div>
  </div>
</div>
      </div>

<div id="submitCourseProposalTab" class="affiliate-tab hidden">
  <h2 class="text-2xl font-semibold mb-4">Submit a Course Proposal</h2>
  <form id="submitCourseProposalForm" class="space-y-4">

    <div>
      <label for="courseName" class="block text-sm font-medium">Course Title *</label>
      <input id="courseName" type="text" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" required placeholder="Enter course title" />
      <p class="text-xs text-gray-400 mt-1">Displayed to users. Used to generate a slug automatically.</p>
    </div>

    <div>
      <label for="courseSlug" class="block text-sm font-medium">Slug (optional)</label>
      <input id="courseSlug" type="text" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="auto-generated-from-title" />
      <p class="text-xs text-gray-400 mt-1">Used in URLs. Only lowercase letters, numbers, and hyphens allowed.</p>
    </div>

    <div>
      <label for="courseShortDescription" class="block text-sm font-medium">Short Description</label>
      <input id="courseShortDescription" type="text" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="Quick preview (e.g., Learn to relieve pain)" />
      <p class="text-xs text-gray-400 mt-1">Shown in tiles and preview cards.</p>
    </div>

    <div>
      <label for="courseDescription" class="block text-sm font-medium">Course Description *</label>
      <textarea id="courseDescription" rows="4" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" required></textarea>
      <p class="text-xs text-gray-400 mt-1">Explain what learners will gain from your course.</p>
    </div>

    <div>
      <label for="coursePrice" class="block text-sm font-medium">Price (AUD) *</label>
      <input id="coursePrice" type="number" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" min="0" step="1" required placeholder="99" />
    </div>

    <div class="flex gap-4">
      <div class="flex-1">
        <label for="courseSalePrice" class="block text-sm font-medium">Sale Price</label>
        <input id="courseSalePrice" type="number" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" min="0" />
      </div>
      <div class="flex items-end">
        <label class="inline-flex items-center gap-2 mt-6">
          <input id="courseOnSale" type="checkbox" />
          <span class="text-sm text-white">On Sale</span>
        </label>
      </div>
    </div>

    <div>
      <label for="courseDuration" class="block text-sm font-medium">Duration</label>
      <input id="courseDuration" type="text" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="e.g. 6 weeks, Self-paced" />
    </div>

    <div>
      <label for="courseFeatures" class="block text-sm font-medium">Features</label>
      <input id="courseFeatures" type="text" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="Comma-separated list (e.g., Video lessons, PDF guides)" />
    </div>

    <div>
      <label for="courseTags" class="block text-sm font-medium">Tags</label>
      <input id="courseTags" type="text" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="Comma-separated (e.g., mobility, beginner, rehab)" />
    </div>

    <div>
      <label for="courseStock" class="block text-sm font-medium">Max Participants</label>
      <input id="courseStock" type="number" min="0" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" />
      <p class="text-xs text-gray-400 mt-1">Leave blank or 0 for unlimited access.</p>
    </div>

    <div>
      <label for="courseVisible" class="inline-flex items-center gap-2">
        <input type="checkbox" id="courseVisible" checked />
        <span class="text-sm text-white">Visible to public</span>
      </label>
    </div>

    <div>
      <label for="courseImageFile" class="block text-sm font-medium">Course Thumbnail (600x400px) *</label>
      <input id="courseImageFile" type="file" accept="image/*" class="input w-full text-white bg-gray-800 rounded" required />
      <p class="text-xs text-gray-400 mt-1">Must be 600x400px to display correctly in grid.</p>
    </div>

    <button type="submit" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded">
      Submit Course
    </button>
  </form>
</div>

    </div>
  </div>
  <!-- My Submitted Courses Tab -->
<div id="mySubmittedCoursesTab" class="affiliate-tab hidden">
  <h2 class="text-2xl font-semibold mb-4">My Submitted Courses</h2>
  <div id="mySubmittedCourses" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
</div>
      </div>
    </div>
  </div>
<div id="editWorkshopModal" class="fixed inset-0 bg-black bg-opacity-70 z-50 hidden flex items-center justify-center opacity-0 transition-opacity duration-300">
  <div class="bg-gray-900 text-white p-6 rounded-lg shadow-xl max-w-2xl w-full">
    <h2 class="text-xl font-semibold mb-4">Edit Workshop</h2>
    <form id="editWorkshopForm" class="space-y-4">
      <input id="editWorkshopId" type="hidden" />

      <div>
        <label for="editWorkshopName" class="block font-medium">Workshop Name</label>
        <input id="editWorkshopName" class="input w-full bg-gray-800 px-3 py-2 rounded" placeholder="e.g. Mobility Masterclass" required />
        <small class="text-gray-400">This is the title shown on product pages.</small>
      </div>

      <div>
        <label for="editWorkshopLocation" class="block font-medium">Location</label>
        <input id="editWorkshopLocation" class="input w-full bg-gray-800 px-3 py-2 rounded" placeholder="e.g. Brisbane Clinic" required />
        <small class="text-gray-400">Venue or address where the workshop is held.</small>
      </div>

      <div>
        <label for="editWorkshopDate" class="block font-medium">Date</label>
        <input id="editWorkshopDate" type="date" class="input w-full bg-gray-800 px-3 py-2 rounded" required />
      </div>

      <div>
        <label for="editWorkshopPrice" class="block font-medium">Price (AUD)</label>
        <input id="editWorkshopPrice" type="number" min="0" step="1" class="input w-full bg-gray-800 px-3 py-2 rounded" required />
      </div>

      <div>
        <label for="editWorkshopShortDescription" class="block font-medium">Short Description</label>
        <input id="editWorkshopShortDescription" class="input w-full bg-gray-800 px-3 py-2 rounded" placeholder="e.g. Boost hip mobility in 90 mins" />
        <small class="text-gray-400">Used in tile previews and search results.</small>
      </div>

      <div>
        <label for="editWorkshopDescription" class="block font-medium">Full Description</label>
        <textarea id="editWorkshopDescription" class="input w-full bg-gray-800 px-3 py-2 rounded" rows="4" placeholder="Full details about your workshop"></textarea>
      </div>

      <div>
        <label for="editWorkshopSlug" class="block font-medium">Custom URL Slug</label>
        <input id="editWorkshopSlug" class="input w-full bg-gray-800 px-3 py-2 rounded" placeholder="e.g. mobility-masterclass" />
        <small class="text-gray-400">Auto-generated if left blank. Only lowercase letters, numbers, and hyphens allowed.</small>
        <span id="slugError" class="text-red-400 text-sm hidden">Invalid slug format.</span>
      </div>

      <div>
        <label for="editWorkshopDuration" class="block font-medium">Duration</label>
        <input id="editWorkshopDuration" class="input w-full bg-gray-800 px-3 py-2 rounded" placeholder="e.g. 2 hours" />
      </div>

      <div>
        <label for="editWorkshopMaxParticipants" class="block font-medium">Max Participants</label>
        <input id="editWorkshopMaxParticipants" type="number" class="input w-full bg-gray-800 px-3 py-2 rounded" placeholder="Leave blank for unlimited" />
      </div>

      <div>
        <label for="editWorkshopFeatures" class="block font-medium">Features</label>
        <input id="editWorkshopFeatures" class="input w-full bg-gray-800 px-3 py-2 rounded" placeholder="Comma-separated list (e.g. Hands-on, Small class size)" />
      </div>

      <div>
        <label for="editWorkshopImage" class="block font-medium">Change Image</label>
        <input id="editWorkshopImage" type="file" accept="image/*" class="input w-full bg-gray-800 px-3 py-2 rounded" />
        <img id="editWorkshopPreview" src="https://firebasestorage.googleapis.com/v0/b/recovery-tools.firebasestorage.app/o/videos%2FImages%2Fworkshop.image.png?alt=media&token=6060b072-57a7-4df9-bd97-6a1283d5efb1" alt="Preview" class="mt-2 rounded shadow max-h-40 object-cover" />
      </div>

      <div class="flex justify-end gap-3 mt-6">
        <button type="button" id="cancelEditWorkshopBtn" class="bg-gray-600 px-4 py-2 rounded hover:bg-gray-700">Cancel</button>
        <button type="submit" id="saveEditWorkshopBtn" class="bg-green-600 px-4 py-2 rounded hover:bg-green-700">Save Changes</button>
        <button type="button" id="deleteEditWorkshopBtn" class="bg-red-600 px-4 py-2 rounded hover:bg-red-700">Delete</button>
      </div>
    </form>
  </div>
</div>
    </div>
  </div>
<div id="editCourseModal" class="fixed inset-0 bg-black bg-opacity-70 z-50 hidden flex items-center justify-center opacity-0 transition-opacity duration-300">
  <div class="bg-gray-900 text-white p-6 rounded-lg shadow-xl max-w-2xl w-full">
    <h2 class="text-xl font-semibold mb-4">Edit Course</h2>
    <form id="editCourseForm" class="space-y-4">

      <input id="editCourseId" type="hidden" />

      <div>
        <label for="editCourseTitle">Title *</label>
        <input id="editCourseTitle" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="Course Title" required title="Enter a course title." />
      </div>

      <div>
        <label for="editCourseSlug">Slug</label>
        <input id="editCourseSlug" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="course-title" title="URL-friendly version of title. Only lowercase, hyphens, numbers allowed." />
      </div>

      <div>
        <label for="editCourseShortDescription">Short Description</label>
        <input id="editCourseShortDescription" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="One-line summary (for cards)" title="Used in preview tiles and search results." />
      </div>

      <div>
        <label for="editCourseDescription">Full Description</label>
        <textarea id="editCourseDescription" class="input w-full bg-gray-800 text-white px-3 py-2 rounded h-24" placeholder="Full course description..." title="Shown on product landing page."></textarea>
      </div>

      <div>
        <label for="editCourseDuration">Duration</label>
        <input id="editCourseDuration" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="6 weeks" title="E.g., 6 weeks, 12 modules, etc." />
      </div>

      <div class="flex gap-4">
        <div class="flex-1">
          <label for="editCoursePrice">Price (AUD) *</label>
          <input id="editCoursePrice" type="number" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="199" min="0" required title="Full price of the course." />
        </div>
        <div class="flex-1">
          <label for="editCourseSalePrice">Sale Price</label>
          <input id="editCourseSalePrice" type="number" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="149" min="0" title="Optional discounted price." />
        </div>
        <div class="flex items-end">
          <label class="flex items-center gap-2 mt-6">
            <input type="checkbox" id="editCourseOnSale" />
            <span class="text-sm text-white">On Sale</span>
          </label>
        </div>
      </div>

      <div>
        <label for="editCourseMaxParticipants">Max Participants</label>
        <input id="editCourseMaxParticipants" type="number" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="Optional limit" min="0" title="Leave blank for unlimited access." />
      </div>

      <div>
        <label for="editCourseFeatures">Features</label>
        <input id="editCourseFeatures" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="Comma-separated list" title="e.g., Certificate, Downloadable PDFs, Lifetime Access" />
      </div>

      <div>
        <label for="editCourseTags">Tags</label>
        <input id="editCourseTags" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" placeholder="Comma-separated tags" title="For filtering and search." />
      </div>

      <div>
        <label class="flex items-center gap-2">
          <input type="checkbox" id="editCourseVisible" checked />
          <span class="text-sm text-white">Visible to Public</span>
        </label>
      </div>

      <div>
        <label for="editCourseImage">Thumbnail Image</label>
        <input id="editCourseImage" type="file" accept="image/*" class="input w-full text-white bg-gray-800 rounded" />
        <img id="editWorkshopPreview" src="https://firebasestorage.googleapis.com/v0/b/recovery-tools.firebasestorage.app/o/videos%2FImages%2Fworkshop.image.png?alt=media&token=6060b072-57a7-4df9-bd97-6a1283d5efb1" alt="Preview" class="mt-2 rounded shadow max-h-40 object-cover" />
      </div>

      <div class="flex flex-col md:flex-row justify-end gap-4 pt-4">
        <button type="button" id="cancelEditCourseBtn" class="bg-gray-600 px-4 py-2 rounded hover:bg-gray-700">Cancel</button>
        <button type="submit" id="saveEditCourseBtn" class="bg-green-600 px-4 py-2 rounded hover:bg-green-700">Save Changes</button>
        <button type="button" id="deleteEditCourseBtn" class="bg-red-600 px-4 py-2 rounded hover:bg-red-700">Delete Course</button>
      </div>
    </form>
  </div>
</div>
</section>

      <!-- Standalone Admin Dashboard Section -->
      <section id="adminSection" class="tab-content p-6 hidden">
        <h1 class="text-3xl font-bold mb-6">Admin Dashboard</h1>
        <div class="mb-4">
          <a href="/profile" class="inline-block px-4 py-2 rounded bg-[#407471] text-white hover:bg-[#305a56]">
            ‚Üê Back to Profile
          </a>
        </div>
  <div class="flex flex-col lg:flex-row gap-8">
    <!-- Sidebar -->
    <aside class="w-full lg:w-64 space-y-2">
      <h2 class="text-xl font-semibold text-purple-300 mb-4">Admin Menu</h2>
      <a href="/admin" class="admin-link block px-4 py-2 rounded hover:bg-purple-800">Dashboard</a>
      <a href="/admin/orders" class="admin-link block px-4 py-2 rounded hover:bg-purple-800">Orders</a>
      <a href="/admin/workshops" class="admin-link block px-4 py-2 rounded hover:bg-purple-800">Workshops</a>
      <a href="/admin/courses" class="admin-link block px-4 py-2 rounded hover:bg-purple-800">Courses</a>
      <a href="/admin/anato-me" class="admin-link block px-4 py-2 rounded hover:bg-purple-800">Anato-Me</a>
      <a href="/admin/crm" class="admin-link block px-4 py-2 rounded hover:bg-purple-800">CRM</a>
      <a href="/profile" class="text-sm mt-6 text-blue-400 hover:underline">‚Üê Back to Profile</a>
    </aside>

    <!-- Content Panel -->
    <div class="flex-1 space-y-6">
      <div id="adminDashboardSection" class="admin-tab hidden">
        <h2 class="text-2xl font-semibold">Admin Dashboard</h2>
        <p class="text-gray-400">Welcome, admin. Choose a section from the sidebar to begin.</p>
        <div id="commissionRatesPanel" class="admin-section hidden">
  <h2 class="text-2xl font-bold mb-4">Affiliate Commission Rates</h2>
  <form id="commissionRatesForm" class="space-y-4 max-w-md">
    <div>
      <label for="toolRate" class="block text-sm">Tool (%)</label>
      <input id="toolRate" type="number" step="0.01" min="0" max="1" class="w-full p-2 rounded bg-gray-800 text-white" />
    </div>
    <div>
      <label for="courseRate" class="block text-sm">Course (%)</label>
      <input id="courseRate" type="number" step="0.01" min="0" max="1" class="w-full p-2 rounded bg-gray-800 text-white" />
    </div>
    <div>
      <label for="workshopRate" class="block text-sm">Workshop (%)</label>
      <input id="workshopRate" type="number" step="0.01" min="0" max="1" class="w-full p-2 rounded bg-gray-800 text-white" />
    </div>
    <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded">Save Rates</button>
  </form>
</div>
<div id="productManagerPanel" class="admin-section hidden">
  <h2 class="text-2xl font-bold mb-4">Manage Products</h2>

  <form id="addProductForm" class="space-y-4 max-w-xl">
    <input type="text" id="add-name" class="input w-full" placeholder="Product Name" required />
    <input type="number" id="add-price" class="input w-full" placeholder="Price" required />
    <select id="add-type" class="input w-full">
      <option value="tool">Tool</option>
      <option value="course">Course</option>
      <option value="workshop">Workshop</option>
    </select>
    <input type="number" id="add-stock" class="input w-full" placeholder="Stock Quantity" />
    <input type="text" id="add-tags" class="input w-full" placeholder="Tags (comma separated)" />
    <textarea id="add-description" class="input w-full" placeholder="Product Description"></textarea>
    <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded">Add Product</button>
  </form>

  <form id="editProductForm" class="space-y-4 max-w-xl mt-10 hidden">
    <input type="hidden" id="edit-id" />
    <input type="text" id="edit-name" class="input w-full" placeholder="Product Name" required />
    <input type="number" id="edit-price" class="input w-full" placeholder="Price" required />
    <select id="edit-type" class="input w-full">
      <option value="tool">Tool</option>
      <option value="course">Course</option>
      <option value="workshop">Workshop</option>
    </select>
    <input type="number" id="edit-stock" class="input w-full" placeholder="Stock Quantity" />
    <input type="text" id="edit-tags" class="input w-full" placeholder="Tags (comma separated)" />
    <textarea id="edit-description" class="input w-full" placeholder="Product Description"></textarea>
    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded">Update Product</button>
    <button class="delete-btn bg-red-600 text-white px-3 py-1 rounded" data-id="${product.id}">Delete</button>
  </form>

  <div id="productList" class="mt-8 space-y-4"></div>
</div>


      <div id="adminOrdersSection" class="admin-section hidden">
        <h2 class="text-2xl font-bold mb-4">Orders</h2>
        <button id="clearFilterBtn" class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 text-sm">Clear Filter</button>
      
        <div class="flex flex-col md:flex-row justify-between items-center gap-4 mt-4">
          <input type="text" id="orderSearchInput" placeholder="Search by name, phone, email or invoice" class="input w-full md:w-1/2 bg-gray-700 text-white placeholder-gray-400 px-3 py-2 rounded">
          <button id="exportOrdersBtn" class="bg-[#407471] text-white px-4 py-2 rounded hover:bg-[#305a56]">Export to CSV</button>
        </div>
      
        <div id="statusFilterBar" class="my-4 flex flex-wrap gap-2 text-sm">
          <button class="filter-btn active" data-status="All">All</button>
          <button class="filter-btn" data-status="Pending">Pending</button>
          <button class="filter-btn" data-status="Approved">Approved</button>
          <button class="filter-btn" data-status="Shipped">Shipped</button>
          <button class="filter-btn" data-status="Complete">Complete</button>
          <button class="filter-btn" data-status="Cancelled">Cancelled</button>
        </div>
      
        $1
        <div id="globalOrdersGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
          <!-- Order cards will be dynamically injected here -->
        </div>
      </div>

      <script>
        // Optional: inject dropdown instead of hardcoded "Shipped"
        document.addEventListener("DOMContentLoaded", () => {
          const observer = new MutationObserver(() => {
            document.querySelectorAll(".order-card").forEach(card => {
              const statusDiv = card.querySelector("div:nth-child(3)");
              if (!card.querySelector("select.order-status")) {
                const currentStatus = statusDiv.textContent.replace("Status:", "").trim();
                const select = document.createElement("select");
                select.className = "order-status";
                select.innerHTML = ["Pending", "Approved", "Shipped", "Complete", "Cancelled"]
                  .map(s => `<option value="${s}" ${s === currentStatus ? "selected" : ""}>${s}</option>`).join("");
                statusDiv.innerHTML = "<strong>Status:</strong> ";
                statusDiv.appendChild(select);
              }
            });
          });
          observer.observe(document.getElementById("globalOrdersGrid"), { childList: true, subtree: true });
        });
      </script>
      </div>
              <div>
                <strong>User:</strong>
                <a href="/admin/crm?uid=${data.uid}" class="text-blue-400 hover:underline" title="Go to user in CRM">
                  ${data.userName || "Unknown"} (${data.userEmail})
                </a>
              </div>
              
            </div>

      <div id="adminWorkshopApprovals" class="admin-tab hidden">
        <h2 class="text-2xl font-semibold">Workshop Approvals</h2>
        <div id="workshopApprovalGrid" class="space-y-4"></div>
      </div>

      <div id="pendingCourseApprovals" class="admin-tab hidden">
        <h2 class="text-2xl font-semibold">Course Proposals</h2>
        <div id="pendingCourseList" class="space-y-4"></div>
      </div>

      <div id="anatoMeForm" class="admin-tab hidden">
        <h2 class="text-2xl font-semibold">Anato-Me Episode Management</h2>
        <form id="episodeForm" class="space-y-4">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <input id="episodeSlug" name="slug" placeholder="Slug (auto-generated)" class="input" readonly>
    <input id="episodeTitle" name="title" placeholder="Title" class="input">
    <input id="episodeVideoUrl" name="videoUrl" placeholder="Video URL" class="input">
    <input id="episodeThumbnail" name="thumbnail" placeholder="Thumbnail URL" class="input">
    <input id="episodeTags" name="tags" placeholder="Tags (comma-separated)" class="input">
    <input id="episodeCategory" name="category" placeholder="Category" class="input">
  </div>

  <textarea id="episodeStoryClean" name="storyClean" placeholder="Clean Version Story" class="input h-32"></textarea>
  <textarea id="episodeStoryRated" name="storyRated" placeholder="Rated Version Story" class="input h-32"></textarea>
  <textarea id="episodeReflectionPrompts" name="reflectionPrompts" placeholder="Reflection Prompts (one per line)" class="input h-24"></textarea>
  <input id="episodeRelatedProducts" name="relatedProducts" placeholder="Related Products (comma-separated)" class="input">

  <h3 class="text-lg font-semibold mt-6">Clinical Companion</h3>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <input id="episodeCondition" name="condition" placeholder="Condition" class="input">
    <input id="episodeClinicalTips" name="clinicalTips" placeholder="Clinical Tips" class="input">
    <input id="episodeTreatmentSuggestions" name="treatmentSuggestions" placeholder="Treatment Suggestions" class="input">
    <input id="episodeEducationalUse" name="educationalUse" placeholder="Educational Use" class="input">
  </div>

  <div class="flex items-center gap-4 mt-4">
    <label><input type="checkbox" id="episodePublicVisible" name="publicVisible"> Public</label>
    <label><input type="checkbox" id="episodeTherapistVisible" name="therapistVisible"> Therapist Only</label>
    <label><input type="checkbox" id="episodeIsPublished" name="isPublished"> Published</label>
  </div>

  <button type="submit" class="bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700">üíæ Save Episode</button>
  <button type="button" id="deleteEpisodeBtn" class="ml-4 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700">üóëÔ∏è Delete Episode</button>
</form>
      </div>

      <div id="userRoleManager" class="admin-tab hidden">
        <h2 class="text-2xl font-semibold">User Role Management & CRM</h2>
        <div id="userRoleTools" class="space-y-4">
  <div class="bg-gray-800 p-4 rounded shadow">
    <h3 class="text-lg font-semibold mb-2">Search Users</h3>
    <input id="userSearchInput" placeholder="Search by name, email, phone, or order ID" class="input w-full">
    <button id="userSearchBtn" class="mt-2 bg-blue-600 px-4 py-2 text-white rounded hover:bg-blue-700">üîç Search</button>
  </div>

  <div id="userResults" class="space-y-4"></div>

  <div class="bg-gray-800 p-4 rounded shadow">
    <h3 class="text-lg font-semibold mb-2">Assign Roles</h3>
    <div class="flex flex-col md:flex-row gap-4">
      <input id="assignRoleUserId" placeholder="User UID" class="input w-full">
      <select id="assignRoleSelect" class="input">
        <option value="user">User</option>
        <option value="affiliate">Affiliate</option>
        <option value="therapist">Therapist</option>
        <option value="admin">Admin</option>
      </select>
      <button id="assignRoleBtn" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">‚úîÔ∏è Assign Role</button>
    </div>
  </div>
</div>
      </div>
    </div>
  </div>
</section>


      <!-- Anato-Me Section -->
    <section id="anato-meSection" class="tab-content hidden p-6">
      <h2 class="text-3xl font-bold mb-6">Anato-Me Episodes</h2>
      <div class="mb-4">
        <label for="storyModeSelect" class="mr-2 font-medium">View Mode:</label>
<select id="storyModeSelect" class="border p-1 rounded">
  <option value="clean">Clean</option>
  <option value="rated">R-Rated</option>
</select>
      </div>
      
      <div class="mb-6">
        <label for="chapterFilter" class="block font-medium mb-1">Filter by Chapter:</label>
        <select id="chapterFilter" class="border border-gray-300 rounded p-2 w-full md:w-1/3">
          <option value="">All Chapters</option>
          <option value="hips">Hips</option>
          <option value="knees">Knees</option>
          <option value="shoulders">Shoulders</option>
          <option value="nerves">Nerves</option>
          <option value="fascia">Fascia</option>
          <!-- Add more as needed -->
        </select>
      </div>
      
      <div id="anatoMeGrid" class="grid gap-6 md:grid-cols-2 xl:grid-cols-3">
        <!-- Cards will be inserted here -->
      </div>
    </section>

    <!-- Anato-Me Viewer Blog Page -->
<section id="anatoMeEpisodePage" class="hidden p-6 max-w-3xl mx-auto">
  <button onclick="window.history.back()" class="mb-4 text-blue-600 hover:underline">&larr; Back to Episodes</button>
  <h2 id="epTitle" class="text-3xl font-bold mb-2"></h2>
  <iframe id="epVideo" class="w-full h-64 mb-4 rounded" frameborder="0" allowfullscreen></iframe>
  <p id="epStory" class="text-gray-800 mb-6 whitespace-pre-line"></p>

  <h3 class="text-xl font-semibold mt-8 mb-2">üîó Share This Episode</h3>
  <div class="flex flex-wrap gap-4 items-center mb-6" id="shareButtons">
    <a id="shareFacebook" aria-label="Share on Facebook" target="_blank" class="text-blue-600 hover:underline text-sm flex items-center gap-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
        <path d="M22.675 0h-21.35C.596 0 0 .597 0 1.333v21.333C0 23.403.596 24 1.325 24h11.488v-9.294H9.691v-3.622h3.122V8.413c0-3.1 1.894-4.788 4.659-4.788 1.325 0 2.464.097 2.795.14v3.24l-1.918.001c-1.504 0-1.796.715-1.796 1.763v2.31h3.587l-.467 3.622h-3.12V24h6.116C23.404 24 24 23.403 24 22.667V1.333C24 .597 23.404 0 22.675 0z"/>
      </svg>
      Facebook
    </a>
    <a id="shareTwitter" aria-label="Share on Twitter" target="_blank" class="text-blue-400 hover:underline text-sm flex items-center gap-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
        <path d="M24 4.557a9.83 9.83 0 01-2.828.775A4.93 4.93 0 0023.337 3.1a9.864 9.864 0 01-3.127 1.195 4.918 4.918 0 00-8.38 4.482A13.944 13.944 0 011.671 3.149a4.917 4.917 0 001.523 6.574 4.902 4.902 0 01-2.228-.616c-.054 2.281 1.581 4.415 3.949 4.89a4.936 4.936 0 01-2.224.085c.63 1.966 2.445 3.397 4.6 3.438a9.867 9.867 0 01-6.102 2.104c-.396 0-.788-.023-1.175-.068A13.945 13.945 0 007.548 21c9.142 0 14.307-7.721 13.995-14.646A9.936 9.936 0 0024 4.557z"/>
      </svg>
      Twitter
    </a>
    <a id="shareLinkedIn" aria-label="Share on LinkedIn" target="_blank" class="text-blue-700 hover:underline text-sm flex items-center gap-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
        <path d="M22.23 0H1.77C.792 0 0 .774 0 1.727v20.545C0 23.225.792 24 1.77 24h20.46C23.206 24 24 23.225 24 22.273V1.727C24 .774 23.206 0 22.23 0zM7.119 20.452H3.56V9h3.56v11.452zM5.34 7.517a2.063 2.063 0 110-4.126 2.063 2.063 0 010 4.126zM20.452 20.452h-3.558v-5.605c0-1.336-.026-3.058-1.864-3.058-1.865 0-2.151 1.455-2.151 2.957v5.706h-3.56V9h3.42v1.561h.049c.475-.9 1.636-1.848 3.364-1.848 3.598 0 4.262 2.367 4.262 5.444v6.295z"/>
      </svg>
      LinkedIn
    </a>
    <button id="copyLink" role="button" aria-label="Copy episode link" class="text-gray-700 hover:underline text-sm flex items-center gap-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m2 0a6 6 0 01-6 6H7a6 6 0 110-12h2m6 0h2a6 6 0 010 12h-2" />
      </svg>
      Copy Link
    </button>
  </div>

  <h3 class="text-xl font-semibold mt-8 mb-2">üõí Related Products</h3>
  <div id="epProducts" class="grid gap-4 grid-cols-1 md:grid-cols-2"></div>

  <h3 class="text-xl font-semibold mt-8 mb-2">üìù Reflection Prompts</h3>
  <ul id="epPrompts" class="list-disc list-inside text-gray-700"></ul>

<!-- üí¨ Simple Comment Section (Firebase-based or expandable later) -->
<h3 class="text-xl font-semibold mt-8 mb-2">üí¨ Comments</h3>
<div id="epComments" class="bg-gray-100 p-4 rounded">
  <form id="commentForm" class="mb-4">
    <textarea id="commentText" rows="3" placeholder="Leave a comment..." class="w-full p-2 border rounded mb-2"></textarea>
    <button type="submit" class="bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700">Post</button>
  </form>
  <div id="commentList" class="space-y-4"></div>
</div>
</section>
    
    <section id="workshopsSection" class="tab-content hidden p-6">
      <h2 class="text-2xl font-semibold mb-4">Workshops</h2>
      <div class="flex gap-4 mb-4">
  <select id="filterLocation" class="bg-gray-800 text-white px-3 py-2 rounded">
    <option value="">All Locations</option>
  </select>
  <select id="filterTag" class="bg-gray-800 text-white px-3 py-2 rounded">
    <option value="">All Tags</option>
  </select>
</div>

      <div id="workshopGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
    </section>

    <section id="workshopDetailSection" class="tab-content hidden p-6">
      <div id="workshopDetailContainer" class="max-w-4xl mx-auto bg-gray-900 p-6 rounded shadow"></div>
    </section>

    <section id="pastWorkshopsSection" class="tab-content hidden p-6">
      <h2 class="text-2xl font-semibold mb-4">Past Workshops</h2>
      <div id="pastWorkshopGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
    </section>
   
    <section id="coursesSection" class="tab-content hidden p-6">
      <h2 class="text-2xl font-semibold mb-4">Courses</h2>
      <div id="courseGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
    </section>

    <section id="courseDetailSection" class="tab-content hidden p-6">
      <div id="courseDetailContainer" class="max-w-4xl mx-auto bg-gray-900 p-6 rounded shadow"></div>
    </section>


    <section id="affiliateWhySection" class="tab-content hidden p-6">
      <h1 class="text-3xl font-bold mb-4">Why Join Our Affiliate Program?</h1>
      <p class="mb-4 text-gray-300">
        Our affiliate program is more than just commissions ‚Äî it‚Äôs a way to amplify your impact while supporting chronic pain education. A portion of all sales supports <strong>Pain Australia</strong>, helping fund advocacy and research to improve lives. By joining, you're not only earning ‚Äî you're giving back.
      </p>
    
      <p class="mb-4 text-gray-300">
        Whether you're a therapist, educator, or health-conscious professional, our program helps you build a sustainable, passive revenue stream outside of your day-to-day clinical or professional work. Share what you already believe in ‚Äî and be rewarded for it.
      </p>
    
      <p class="mb-6 text-gray-300">
        We‚Äôre a growing community of aligned health professionals committed to evidence-based resources, education, and ethical sharing. Your voice, influence, and knowledge matter. Let's build something impactful ‚Äî together.
      </p>
    
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        <div class="bg-gray-800 p-4 rounded shadow">
          <h3 class="text-xl font-semibold mb-2">üí∞ Earn Great Commissions</h3>
          <p class="text-gray-400 text-sm">
            Unlike many platforms, we don‚Äôt charge you monthly fees or take heavy cuts. Our structure is designed to help you keep more of what you earn, with some of the highest affiliate rates in the health and education space. Whether you're selling products, courses, or workshops ‚Äî you're empowered to grow your income without added costs.
            <br /><br />
            Our affiliate structure is designed to reward your contribution:
            <ul class="list-disc pl-6 mt-2">
              <li><strong>Courses:</strong> Earn a generous <strong>80%</strong> on any courses you create and sell.</li>
              <li><strong>Workshops:</strong> Keep <strong>94%</strong> of ticket sales when hosting at your own venue ‚Äî we handle the ticketing and promotion.</li>
              <li><strong>Physical Products:</strong> Receive <strong>15%</strong> commission for every product sold through your referral.</li>
            </ul>
            Commissions are paid automatically via Stripe.
          </p>
        </div>
    
        <div class="bg-gray-800 p-4 rounded shadow">
          <h3 class="text-xl font-semibold mb-2">üõ† Access Recovery Tools</h3>
          <p class="text-gray-400 text-sm">Our tools are trusted by therapists and athletes. You‚Äôll be promoting proven resources backed by education.</p>
        </div>
    
        <div class="bg-gray-800 p-4 rounded shadow">
          <h3 class="text-xl font-semibold mb-2">üìà Track Your Sales</h3>
          <p class="text-gray-400 text-sm">View your earnings in your dashboard, download reports, and track referrals with your personal link.</p>
        </div>
    
        <div class="bg-gray-800 p-4 rounded shadow">
          <h3 class="text-xl font-semibold mb-2">üì¶ Promote Courses, Tools & Workshops</h3>
          <p class="text-gray-400 text-sm">You'll earn the majority of revenue from any workshops you host. We simply provide the ticketing platform and promotion ‚Äî you keep the rest. Perfect for expanding your reach without extra overhead.</p>
        </div>
      </div>
    
      <div class="text-center">
        <button id="startAffiliateBtn" class="bg-green-600 hover:bg-green-700 text-white font-bold px-6 py-3 rounded text-lg">
          Become an Affiliate
        </button>
        <p class="text-sm text-gray-500 mt-2">Already signed up? <a href="/profile" class="underline text-blue-400">Manage your affiliate dashboard</a></p>
      </div>
    </section>

<!-- Affiliate Registration Section -->
<section id="affiliateRegisterSection" class="tab-content hidden p-6 max-w-2xl mx-auto">
  <h2 class="text-2xl font-bold mb-4">Affiliate Registration</h2>
  <p class="text-sm text-gray-400 mb-6">Already a user? Fill out your affiliate details below. New users will be redirected to sign up first.</p>

  <form id="affiliateRegisterForm" class="space-y-4">
    <div>
      <label for="affiliateName" class="block text-sm font-medium">Full Name</label>
      <input id="affiliateName" name="affiliateName" type="text" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" required />
    </div>

    <div>
      <label for="affiliateEmail" class="block text-sm font-medium">Email</label>
      <input id="affiliateEmail" name="affiliateEmail" type="email" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" required />
    </div>

    <div>
      <label for="affiliateABN" class="block text-sm font-medium">ABN</label>
      <input id="affiliateABN" name="affiliateABN" type="text" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" required />
    </div>

    <div>
      <label for="affiliateBusinessName" class="block text-sm font-medium">Business Name</label>
      <input id="affiliateBusinessName" name="affiliateBusinessName" type="text" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" required />
    </div>

    <div>
      <label for="affiliatePhone" class="block text-sm font-medium">Phone Number</label>
      <input id="affiliatePhone" name="affiliatePhone" type="tel" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" required />
    </div>

    <div>
      <label for="affiliateAddress" class="block text-sm font-medium">Business Address</label>
      <input id="affiliateAddress" name="affiliateAddress" type="text" class="input w-full bg-gray-800 text-white px-3 py-2 rounded" required />
    </div>

    <div>
      <label for="affiliateDescription" class="block text-sm font-medium">Business Description</label>
      <textarea id="affiliateDescription" name="affiliateDescription" rows="3" class="input w-full bg-gray-800 text-white px-3 py-2 rounded"></textarea>
    </div>

    <div>
      <label for="affiliateLogo" class="block text-sm font-medium">Upload Logo</label>
      <input id="affiliateLogo" name="affiliateLogo" type="file" accept="image/*" class="input w-full text-white bg-gray-800 rounded" />
    </div>

    <button type="submit" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded">Submit</button>
  </form>
</section>

<!-- Checkout Confirmation Section -->
<section id="checkoutSection" class="hidden max-w-2xl mx-auto px-4 py-8 text-white">
  <h1 class="text-2xl font-bold mb-4">Confirm Your Order</h1>
  <div id="checkoutSummary" class="space-y-2"></div>
  <button id="checkoutBtn" class="w-full bg-green-600 hover:bg-green-700 text-white py-3 px-6 rounded mt-6">
    Confirm and Pay
  </button>
  <p class="text-xs text-gray-500 mt-4 text-center">
    By confirming, you agree to our 
    <a href="/terms" class="underline">Terms</a>, 
    <a href="/privacy" class="underline">Privacy Policy</a>, and 
    <a href="/shipping" class="underline">Shipping Info</a>.
  </p>
</section>

<!-- Checkout Success Section -->
<section id="checkoutSuccess" class="hidden max-w-2xl mx-auto px-4 py-12 text-white bg-gray-900 rounded shadow">
  <div class="text-center">
    <div class="text-5xl text-green-400 mb-4">üéâ</div>
    <h2 class="text-2xl font-bold text-green-400 mb-2">Order Confirmed</h2>
    <p class="text-white mb-2">Thank you for your purchase! A confirmation email has been sent.</p>
    <p id="orderConfirmationId" class="text-sm text-gray-400 mb-4">Order ID: <strong>ABC123456</strong></p>
    <a href="/shop" class="inline-block mt-4 bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded">Continue Shopping</a>
  </div>
</section>
    
    <section id="termsSection" class="tab-content hidden">Terms and Conditions content...</section>
    <section id="privacySection" class="tab-content hidden">Privacy Policy content...</section>
    <section id="supportSection" class="tab-content hidden">Support content...</section>

    <!-- About Section -->
<section id="aboutSection" class="tab-content hidden p-6">
  <div class="bg-black text-white max-w-4xl mx-auto font-sans">
    <h2 class="text-3xl font-bold mb-4">About Recovery Tools</h2>
    <p class="text-gray-300 mb-6">
      Recovery Tools was created by clinicians who believe that recovery shouldn't be confusing, expensive, or out of reach.
      Our tools are handpicked, tested in clinic, and supported by clear guidance ‚Äî because we want you to feel better, move more freely, and take charge of your own wellbeing.
    </p>

    <h3 class="text-2xl font-semibold mb-2">Our Mission</h3>
    <p class="text-gray-400 mb-6">
      To empower everyday people and therapists with the resources and education they need to manage pain, restore function,
      and build long-term resilience through evidence-based tools, programs, and hands-on care.
    </p>

    <h3 class="text-2xl font-semibold mb-2">Who We Help</h3>
    <ul class="list-disc ml-6 text-gray-400 mb-6">
      <li>Everyday people dealing with aches, injuries, or chronic pain</li>
      <li>Tradespeople, athletes, parents, and desk workers</li>
      <li>Therapists looking for better tools and client education</li>
    </ul>

    <h3 class="text-2xl font-semibold mb-2">Why It Works</h3>
    <p class="text-gray-400">
      All our products are backed by clinical experience, science, and community feedback. Each one comes with recommended exercises, safe usage guidance,
      and the ability to track your recovery journey inside our platform.
    </p>
  </div>
</section>

    <!-- Contact Section -->
<section id="contactSection" class="tab-content hidden p-6">
  <div class="bg-black text-white max-w-3xl mx-auto font-sans">
    <h2 class="text-3xl font-bold mb-4">Contact Us</h2>
    <p class="text-gray-300 mb-6">
      Got a question about our products, programs, or affiliate options? We're here to help. Fill out the form below and one of our team members will get back to you soon.
    </p>

    <form id="contactForm" class="space-y-4">
        <div>
    <label for="name" class="block text-sm font-medium text-gray-400">Name</label>
    <input
      type="text"
      id="name"
      name="name"
      autocomplete="name"
      required
      class="mt-1 w-full px-4 py-2 bg-gray-800 text-white rounded border border-gray-700"
    >
  </div>
       <div>
    <label for="email" class="block text-sm font-medium text-gray-400">Email</label>
    <input
      type="email"
      id="email"
      name="email"
      autocomplete="email"
      required
      class="mt-1 w-full px-4 py-2 bg-gray-800 text-white rounded border border-gray-700"
    >
  </div>
      <div>
        <label for="message" class="block text-sm font-medium text-gray-400">Message</label>
        <textarea id="message" name="message" rows="5" required class="mt-1 w-full px-4 py-2 bg-gray-800 text-white rounded border border-gray-700"></textarea>
      </div>
      <button type="submit" class="bg-[#407471] text-white px-6 py-2 rounded hover:bg-[#2f5957]">
        Send Message
      </button>
    </form>

    <p id="contactStatus" class="mt-4 text-sm text-green-400 hidden">Thanks for reaching out! We'll be in touch shortly.</p>
  </div>
</section>
   
<section id="commerceSection" class="tab-content hidden">Commerce content...</section>
  </main>

<!-- Footer -->
<footer class="mt-auto bg-[#0a1317] py-8 border-t border-gray-700 text-white text-sm">
  <div class="max-w-7xl mx-auto px-4 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">

    <div class="flex items-center space-x-3">
      <img src="https://firebasestorage.googleapis.com/v0/b/recovery-tools.firebasestorage.app/o/videos%2FImages%2FRecoveryToolsLogo.png?alt=media&token=ef83d768-30db-4889-a550-188f49b1ba2d"
           alt="Recovery Tools Logo"
           class="h-6 w-6 rounded-full border border-[#407471]">
      <span class="text-base font-semibold tracking-wide">Recovery Tools</span>
    </div>

<div class="flex flex-wrap justify-center md:justify-end space-x-4">
  <a href="/terms" class="router-link hover:text-[#407471] transition" aria-label="View Terms">Terms</a>
  <a href="/privacy" class="router-link hover:text-[#407471] transition" aria-label="View Privacy Policy">Privacy</a>
  <a href="/support" class="router-link hover:text-[#407471] transition" aria-label="View Support">Support</a>
  <a href="/contact" class="router-link hover:text-[#407471] transition" aria-label="View Contact Options">Contact</a>
  <a href="/commerce" class="router-link hover:text-[#407471] transition" aria-label="View Commerce Info">Commerce</a>
</div>

  <div class="mt-6 text-center text-gray-400 leading-relaxed px-4">
    &copy; 2025 <a href="https://recoverytools.au" class="text-[#407471] hover:underline">recoverytools.au</a>. All rights reserved.<br>
    Recovery Tools ‚Äî ABN 40833440028. All prices include GST where applicable.
  </div>
</footer>



<!-- Full Auth Modal HTML inside <body> -->
<!-- Mobile-friendly Auth Modal with error messaging -->
<div id="authModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
  <div class="bg-[#1a1a1a] p-6 rounded-lg w-full max-w-sm max-h-[90vh] overflow-y-auto">
    <h2 id="authModalTitle" class="text-xl font-semibold mb-4">Login</h2>

    <!-- Login Form -->
    <form id="loginForm" class="space-y-4">
      <label for="loginEmail" class="block text-sm font-medium">Email</label>
      <input id="loginEmail" type="email" placeholder="Email" class="w-full px-3 py-2 rounded bg-gray-800 text-white" required />

      <label for="loginPassword" class="block text-sm font-medium">Password</label>
      <input id="loginPassword" type="password" placeholder="Password" class="w-full px-3 py-2 rounded bg-gray-800 text-white" required />

      <p id="loginErrorMsg" class="text-red-500 text-sm hidden"></p>

      <button type="submit" class="w-full bg-[#407471] py-2 rounded text-white font-semibold">Login</button>

      <p class="mt-3 text-sm text-center">
        <a href="/reset" data-auth="reset" class="text-[#407471] hover:underline router-link">Forgot Password?</a>
      </p>

      <p class="mt-3 text-sm text-center">
        Don't have an account?
        <a href="/signup" data-auth="signup" class="text-[#407471] hover:underline router-link">Sign Up</a>
      </p>
    </form>

    <!-- Signup Form -->
    <form id="signupForm" class="space-y-4 hidden">
      <label for="signupName" class="block text-sm font-medium">Full Name</label>
      <input id="signupName" type="text" placeholder="Full Name" class="w-full px-3 py-2 rounded bg-gray-800 text-white" required />

      <label for="signupEmail" class="block text-sm font-medium">Email</label>
      <input id="signupEmail" type="email" placeholder="Email" class="w-full px-3 py-2 rounded bg-gray-800 text-white" required />

      <label for="signupPassword" class="block text-sm font-medium">Password</label>
      <input id="signupPassword" type="password" placeholder="Password" class="w-full px-3 py-2 rounded bg-gray-800 text-white" required />

      <label for="signupConfirmPassword" class="block text-sm font-medium">Confirm Password</label>
      <input id="signupConfirmPassword" type="password" placeholder="Confirm Password" class="w-full px-3 py-2 rounded bg-gray-800 text-white" required />

      <label class="flex items-center space-x-2 text-sm">
        <input type="checkbox" id="agreeTerms" required />
        <span>I agree to the <a href="/terms" class="text-[#407471] underline">terms & conditions</a></span>
      </label>

      <p id="signupErrorMsg" class="text-red-500 text-sm hidden"></p>

      <button type="submit" class="w-full bg-[#407471] py-2 rounded text-white font-semibold">Sign Up</button>
    </form>

    <!-- Reset Password Form -->
    <div id="resetForm" class="hidden space-y-4">
      <label for="resetEmail" class="block text-sm font-medium">Email</label>
      <input id="resetEmail" type="email" placeholder="Email" class="w-full px-3 py-2 rounded bg-gray-800 text-white" required />

      <button id="sendResetEmailBtn" class="w-full bg-[#407471] py-2 rounded text-white font-semibold">Send Reset Link</button>

      <p class="mt-3 text-sm text-center">
        <a href="#" id="backToLogin" class="text-[#407471] hover:underline">Back to Login</a>
      </p>
    </div>

    <a href="/" id="closeAuthModal" class="block mt-4 text-center text-gray-400 hover:text-white w-full text-sm router-link">Cancel</a>
  </div>
</div>

<!-- üõí Updated Cart Modal Section -->
<div id="cartDrawer" class="fixed top-0 right-0 w-full sm:w-96 h-full bg-gray-900 text-white shadow-lg z-50 transform translate-x-full transition-transform duration-300">
  <!-- Header with item count and close button -->
  <div class="flex items-center justify-between px-4 py-3 border-b border-gray-700">
    <div>
      <h2 class="text-xl font-bold leading-tight">Your Cart</h2>
      <div id="cartItemCount" class="text-sm text-gray-400">0 items</div>
    </div>
    <button id="closeCartBtn" aria-label="Close Cart" class="text-gray-400 hover:text-white text-2xl">
      &times;
    </button>
  </div>

  <!-- Dynamic item list -->
  <div id="cartItemsContainer" class="p-4 space-y-4 overflow-y-auto max-h-[calc(100vh-200px)]">
    <!-- Items will be dynamically inserted here -->
  </div>
  <div class="p-4 border-t border-gray-700">
    <label for="affiliateSelector" class="block text-sm text-gray-300 mb-1">Referred By</label>
    <select id="affiliateSelector" class="w-full bg-gray-800 text-white px-3 py-2 rounded">
      <option value="">No Affiliate / I found this myself</option>
    </select>
  </div>
  <!-- Subtotal and checkout -->
  <div class="p-4 border-t border-gray-700">
    <div class="flex justify-between items-center mb-2">
      <span class="text-sm text-gray-400">Subtotal</span>
      <span id="cartSubtotal" class="font-semibold">$0.00</span>
    </div>
    <div id="shippingEstimate" class="text-sm text-gray-400 mt-2">
  Estimated Shipping: <span id="estimatedShippingCost">$0.00</span>
  <p class="text-xs text-gray-500">*Final shipping calculated at checkout.</p>
</div>
    <button id="checkoutBtn" aria-label="Proceed to Checkout" class="w-full bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded mt-2">
      Proceed to Checkout
    </button>
    <div class="text-xs text-gray-500 mt-4">
  By proceeding to checkout, you agree to our
  <a href="/terms" class="underline hover:text-white">Terms</a>,
  <a href="/shipping" class="underline hover:text-white">Shipping Policy</a>, and
  <a href="/privacy" class="underline hover:text-white">Privacy Policy</a>.
</div>

  </div>
</div>

<!-- Floating Cart Button -->
<button id="openCartBtn" aria-label="Open Cart" class="fixed bottom-4 right-4 bg-green-600 hover:bg-green-700 text-white p-4 rounded-full shadow-lg z-50">
  üõí
</button>

<!-- Toast for cart actions -->
<div id="toast" class="hidden fixed bottom-4 right-4 px-4 py-2 rounded text-white bg-green-500 z-50"></div>

<div id="app"></div>    
  </body>
  </html>
